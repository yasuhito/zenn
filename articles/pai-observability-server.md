---
title: "PAI Observability Serverï¼šãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰"
emoji: "ğŸ“Š"
type: "tech"
topics: ["ai", "claude", "pai", "monitoring"]
published: true
---

## Observability Server ã¨ã¯

[PAI](https://zenn.dev/yasuhito/articles/pai-personal-ai-infrastructure) ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãƒ‘ãƒƒã‚¯ã€‚è¤‡æ•°ã® AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒ **ä»Šä½•ã‚’ã—ã¦ã„ã‚‹ã‹** ã‚’ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§å¯è¦–åŒ–ã™ã‚‹ã€‚

## ãªãœç›£è¦–ãŒå¿…è¦ã‹

PAI ã§ã¯è¤‡æ•°ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒä¸¦åˆ—ã§å‹•ãã€‚[Agents Skill](https://zenn.dev/yasuhito/articles/pai-agents-skill) ã§è¦‹ãŸã‚ˆã†ã«ã€DETERMINED ãƒ¬ãƒ™ãƒ«ã§ã¯æœ€å¤§ 10 ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒåŒæ™‚ç¨¼åƒã™ã‚‹ã€‚

å•é¡Œã¯ã€Œèª°ãŒä½•ã‚’ã—ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãªã„ã€ã“ã¨ã€‚Observability Server ãŒã‚ã‚Œã°ï¼š
- å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®çŠ¶æ…‹ãŒä¸€ç›®ã§ã‚ã‹ã‚‹
- ã©ã®ã‚¿ã‚¹ã‚¯ãŒé€²è¡Œä¸­/å®Œäº†/ãƒ–ãƒ­ãƒƒã‚¯ã‹ã‚ã‹ã‚‹
- å•é¡ŒãŒã‚ã‚Œã°ã™ãæ°—ã¥ã‘ã‚‹

## æ©Ÿèƒ½

### WebSocket ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°

ã‚¤ãƒ™ãƒ³ãƒˆãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«åæ˜ ï¼š

```
[10:01:05] Engineer: ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†é–‹å§‹
[10:01:07] QATester: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­
[10:01:10] Engineer: ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†å®Œäº†
[10:01:12] QATester: ãƒ†ã‚¹ãƒˆæˆåŠŸ
```

ãƒãƒ¼ãƒªãƒ³ã‚°ã§ã¯ãªã WebSocket ãªã®ã§ã€é…å»¶ãªãçŠ¶æ…‹ãŒã‚ã‹ã‚‹ã€‚

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ Swim Lanes

è¤‡æ•°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æ´»å‹•ã‚’ä¸¦ã¹ã¦æ¯”è¼ƒï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Engineer   â”‚   QATester  â”‚  Designer   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ â”‚ â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚
â”‚ (ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°) â”‚ (å¾…æ©Ÿä¸­)    â”‚ (æœªé–‹å§‹)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¿ã‚¹ã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¿ã‚¹ã‚¯ã®é€²æ—ã‚’è¿½è·¡ï¼š

```markdown
## ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ã‚¹ã‚¯

| ã‚¿ã‚¹ã‚¯ | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | çŠ¶æ…‹ | çµŒé |
|--------|-------------|------|------|
| ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° | Engineer | ğŸ”„ é€²è¡Œä¸­ | 2m 30s |
| ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ | QATester | â³ å¾…æ©Ÿä¸­ | - |
| UIãƒ¬ãƒ“ãƒ¥ãƒ¼ | Designer | âœ… å®Œäº† | 1m 45s |
```

### ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

ã™ã¹ã¦ã®æ“ä½œã‚’æ™‚ç³»åˆ—ã§è¡¨ç¤ºï¼š

```
10:00:00 [SessionStart] main ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹
10:00:05 [ToolUse] Read: src/index.ts
10:00:10 [ToolUse] Edit: src/index.ts
10:00:15 [SubagentStart] Engineer èµ·å‹•
10:00:45 [SubagentStop] Engineer å®Œäº†
```

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
PAI Hooks â†’ JSONL ãƒ­ã‚° â†’ Server (Bun) â†’ WebSocket â†’ Dashboard (Vue)
```

### ã‚µãƒ¼ãƒãƒ¼ï¼ˆBun + TypeScriptï¼‰

```
observability/apps/server/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts        # HTTP + WebSocket ã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ file-ingest.ts  # JSONL ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–
â”‚   â”œâ”€â”€ task-watcher.ts # ã‚¿ã‚¹ã‚¯ç›£è¦–
â”‚   â””â”€â”€ db.ts           # ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒª DB
```

### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆVue 3 + Viteï¼‰

```
observability/apps/client/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.vue         # ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â””â”€â”€ components/     # UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ15+ï¼‰
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
./manage.sh start
```

### 2. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¢ã‚¯ã‚»ã‚¹

```
http://localhost:8080
```

### 3. ãƒ•ãƒƒã‚¯æœ‰åŠ¹åŒ–

[Hook System](https://zenn.dev/yasuhito/articles/pai-hook-system) ã® AgentOutputCapture ãƒ•ãƒƒã‚¯ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã¨ã€è‡ªå‹•ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒãƒ­ã‚°ã«æ›¸ãè¾¼ã¾ã‚Œã‚‹ã€‚

## Menu Bar ã‚¢ãƒ—ãƒªï¼ˆmacOSï¼‰

macOS ç”¨ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã‚¢ãƒ—ãƒªã‚‚ä»˜å±ï¼š

- ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•/åœæ­¢
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ•°ã®è¡¨ç¤º
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹

## ã¾ã¨ã‚

Observability Server ã¯ PAI ã®ç›£è¦–åŸºç›¤ï¼š

- **WebSocket** ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- **Swim Lanes** ã§è¤‡æ•°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’æ¯”è¼ƒ
- **ã‚¿ã‚¹ã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°** ã§é€²æ—æŠŠæ¡
- **ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³** ã§å…¨æ“ä½œã‚’è¨˜éŒ²

ã€ŒAI ãŒä½•ã‚’ã—ã¦ã„ã‚‹ã‹ã€ã‚’è¦‹ãˆã‚‹åŒ–ã™ã‚‹ã€‚

## å‚è€ƒãƒªãƒ³ã‚¯

- [PAI GitHub](https://github.com/danielmiessler/PAI)
- [pai-observability-server](https://github.com/danielmiessler/PAI/tree/main/Packs/pai-observability-server)
